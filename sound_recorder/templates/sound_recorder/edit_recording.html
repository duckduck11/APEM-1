<!-- edit_recording.html -->

{% block content %}
<div class="container mt-4">
    <div class="row mb-3">
        <div class="col-12">
            <h2>Edit Recording: {{ recording.name }}</h2>
        </div>
    </div>

    <div class="row mb-2">
        <div class="col">
            <a href="{% url 'recordings_list' %}" class="btn btn-secondary btn-sm">&larr; Back</a>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-12">
            <audio controls id="audioPlayer" class="w-100">
                <source src="{{ recording.audio_file.url }}" type="audio/wav">
                Your browser does not support the audio element.
            </audio>
        </div>
    </div>

    <div class="row mb-3">
        <div class="col-md-6">
            <label for="playbackSpeed" class="form-label">Playback Speed:</label>
            <select id="playbackSpeed" class="form-select">
                <option value="0.5">0.5x</option>
                <option value="0.75">0.75x</option>
                <option value="1" selected>Normal Speed</option>
                <option value="1.25">1.25x</option>
                <option value="1.5">1.5x</option>
                <option value="2">2x</option>
            </select>
        </div>

        <div class="col-md-6">
            <label for="volumeControl" class="form-label">Volume:</label>
            <input type="range" id="volumeControl" class="form-range" min="0" max="1" step="0.01" value="1">
        </div>
    </div>

    <script>
        document.getElementById('playbackSpeed').addEventListener('change', function() {
            var audioPlayer = document.getElementById('audioPlayer');
            audioPlayer.playbackRate = this.value;
        });

        document.getElementById('volumeControl').addEventListener('input', function() {
            var audioPlayer = document.getElementById('audioPlayer');
            audioPlayer.volume = this.value;
        });
    </script>

</div>
{% endblock %}